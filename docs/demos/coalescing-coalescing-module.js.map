{"version":3,"sources":["./src/app/features/fundamentals/coalescing/coalescing.module.ts","./src/app/features/fundamentals/coalescing/coalescing/coalescing-test.service.ts","./src/app/features/fundamentals/coalescing/coalescing/coalescing.component.ts","./src/app/shared/debug-helper/visualizer/index.ts","./src/app/features/fundamentals/coalescing/coalescing.routes.ts"],"names":[],"mappings":"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","file":"coalescing-coalescing-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { TemplateModule } from '@rx-angular/template';\n\nimport { ROUTES } from './coalescing.routes';\nimport { CoalescingComponent } from './coalescing/coalescing.component';\nimport { VisualizerModule } from '../../../shared/debug-helper/visualizer';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatSelectModule } from '@angular/material/select';\nimport { DirtyChecksModule } from '../../../shared/debug-helper/dirty-checks';\nimport { ValueProvidersModule } from '../../../shared/debug-helper/value-provider';\n\nconst DECLARATIONS = [\n  CoalescingComponent\n];\n\n@NgModule({\n  declarations: [DECLARATIONS],\n  imports: [\n    CommonModule,\n    RouterModule.forChild(ROUTES),\n    TemplateModule,\n    VisualizerModule,\n    MatFormFieldModule,\n    MatButtonModule,\n    MatSelectModule,\n    DirtyChecksModule,\n    ValueProvidersModule\n  ],\n  exports: [DECLARATIONS]\n})\nexport class CoalescingModule {\n}\n","import { asapScheduler, BehaviorSubject, EMPTY, from, interval, Observable, Subject } from 'rxjs';\nimport { concatMap, mergeMap, scan, switchMap, take, takeUntil, tap } from 'rxjs/operators';\n\nexport class CoalescingTestService {\n  ms = 10;\n  strategy$ = new BehaviorSubject('noop');\n  nextValues = new Subject<any>();\n  toggle = new Subject<any>();\n  value$: Observable<string> = this.nextValues.pipe(\n    mergeMap(() => ['1', '2', Math.random() + ''])\n  );\n  value;\n\n  toggleTick = this.toggle.pipe(\n    scan(isTrue => !isTrue, true),\n    switchMap(isTrue => (isTrue ? interval(this.ms) : EMPTY)),\n    tap(() => this.nextValues.next(1))\n  );\n\n  updateValue() {\n    this.nextValues.next(1);\n  }\n\n  updatePattern() {\n    interval(this.ms)\n      .pipe(take(20))\n      .subscribe(() => this.nextValues.next(1));\n  }\n\n  updatePatternSet(strategyNames: string[]) {\n    from(strategyNames)\n      .pipe(\n        concatMap(strategyName => {\n          this.strategy$.next(strategyName);\n          console.log('strategy', strategyName);\n          return interval(this.ms, asapScheduler).pipe(\n            takeUntil(interval(5000))\n          );\n        })\n      )\n      .subscribe(() => {\n        this.nextValues.next(1);\n      });\n  }\n}\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component, OnInit } from '@angular/core';\n\nimport { Observable } from 'rxjs';\nimport { getStrategies } from '@rx-angular/template';\nimport { CoalescingTestService } from './coalescing-test.service';\n\n@Component({\n  selector: 'rxa-demo-basics',\n  template: `\n    <rxa-visualizer>\n      <ng-container visualizerHeader>\n        <h2>Coalescing Tests</h2>\n        <rxa-value-provider [buttons]=\"true\" [unpatched]=\"[]\" #vP=\"rxaValueProvider\"></rxa-value-provider>\n        <div>\n          <mat-form-field>\n            <label>Render Strategy: {{ strategy$ | push | json}}</label>\n            <mat-select #select formControlName=\"strategy\" id=\"strategy\" (selectionChange)=\"strategy$.next(select.value)\">\n              <mat-option\n                [value]=\"s\"\n                *ngFor=\"let s of strategies\">\n                {{ s }}\n              </mat-option>\n            </mat-select>\n          </mat-form-field>\n          <br>\n          <button mat-raised-button (click)=\"vP.next()\">UpdateValue</button>\n          <button mat-raised-button [unpatch] (click)=\"vP.next()\">UpdateValue (unpatched)</button>\n        </div>\n      </ng-container>\n      <rxa-visualizer class=\"w-100\">\n        <div class=\"col-sm-3\">\n          <h3>Push 1</h3>\n          <br/>\n          {{ vP.incremental$ | push: strategy$ }}<br/>\n        </div>\n        <rxa-visualizer viewType=\"embedded-view\" *rxLet=\"vP.incremental$; let value; strategy: strategy$\" class=\"col-sm-3\">\n          <h3 visualizerHeader>rxLet 1</h3>\n          {{ value }}\n        </rxa-visualizer>\n        <div class=\"col-sm-3\">\n          <h3>Push 2</h3>\n          <br/>\n          {{ vP.incremental$ | push: strategy$ }}\n        </div>\n        <rxa-visualizer viewType=\"embedded-view\" *rxLet=\"vP.incremental$; let value; strategy: strategy$\" class=\"col-sm-3\">\n          <h3 visualizerHeader>rxLet 2</h3>\n          {{ value }}\n        </rxa-visualizer>\n      </rxa-visualizer>\n    </rxa-visualizer>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [CoalescingTestService]\n})\nexport class CoalescingComponent implements OnInit {\n  strategy$ = this.s.strategy$;\n\n  strategies = Object.keys(getStrategies({ cdRef: { context: {} } } as any));\n\n  constructor(\n    private cdRef: ChangeDetectorRef,\n    public s: CoalescingTestService\n  ) {\n  }\n\n  updateValue() {\n    this.s.updateValue();\n  }\n\n  ngOnInit() {\n    this.s.toggleTick.subscribe();\n  }\n}\n\n","export {VisualizerModule} from './visualizer.module';\nexport {VisualizerComponent} from './visualizer/visualizer.component';\n","import { CoalescingComponent } from './coalescing/coalescing.component';\n\nexport const ROUTES = [\n  {\n    path: '',\n    component: CoalescingComponent\n  }\n];\n"],"sourceRoot":"webpack:///"}